{
  "name": "editless",
  "displayName": "EditLess",
  "description": "Plan, delegate, and review your AI team's work — the editorless development panel",
  "publisher": "cirvine-MSFT",
  "version": "0.1.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/cirvine-MSFT/editless"
  },
  "type": "commonjs",
  "engines": {
    "vscode": "^1.100.0"
  },
  "categories": [
    "Other",
    "Machine Learning"
  ],
  "keywords": [
    "ai",
    "agents",
    "copilot",
    "vibe-coding",
    "terminal",
    "squad"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "icon": "icons/icon.png",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "editless-dashboard",
          "title": "EditLess",
          "icon": "icons/icon-mono.svg"
        }
      ]
    },
    "views": {
      "editless-dashboard": [
        {
          "id": "editlessTree",
          "name": "Agents"
        },
        {
          "id": "editlessWorkItems",
          "name": "Work Items"
        },
        {
          "id": "editlessPRs",
          "name": "Pull Requests"
        }
      ]
    },
    "commands": [
      {
        "command": "editless.launchSession",
        "title": "Launch Session",
        "category": "EditLess",
        "icon": "$(add)"
      },
      {
        "command": "editless.focusSession",
        "title": "Focus Session",
        "category": "EditLess"
      },
      {
        "command": "editless.renameSession",
        "title": "Rename Session",
        "category": "EditLess"
      },
      {
        "command": "editless.refresh",
        "title": "Refresh",
        "category": "EditLess",
        "icon": "$(refresh)"
      },
      {
        "command": "editless.openRegistry",
        "title": "Open Squad Registry",
        "category": "EditLess"
      },
      {
        "command": "editless.discoverSquads",
        "title": "Discover Squads",
        "category": "EditLess"
      },
      {
        "command": "editless.updateCliProvider",
        "title": "Update CLI Provider",
        "category": "EditLess",
        "icon": "$(cloud-download)"
      },
      {
        "command": "editless.upgradeSquad",
        "title": "Upgrade Squad Package",
        "category": "EditLess",
        "icon": "$(arrow-up)"
      },
      {
        "command": "editless.upgradeAllSquads",
        "title": "Upgrade All Squad Packages",
        "category": "EditLess",
        "icon": "$(arrow-up)"
      },
      {
        "command": "editless.renameSquad",
        "title": "Rename"
      },
      {
        "command": "editless.goToSquadSettings",
        "title": "Go to Settings"
      },
      {
        "command": "editless.openInSquadUi",
        "title": "Open in Squad UI",
        "icon": "$(link-external)"
      },
      {
        "command": "editless.changeModel",
        "title": "Change Model"
      },
      {
        "command": "editless.focusTerminal",
        "title": "Focus Terminal",
        "category": "EditLess"
      },
      {
        "command": "editless.closeTerminal",
        "title": "Close Terminal",
        "category": "EditLess",
        "icon": "$(close)"
      },
      {
        "command": "editless.clearSessionLabel",
        "title": "Clear Session Label",
        "category": "EditLess"
      },
      {
        "command": "editless.hideAgent",
        "title": "Hide"
      },
      {
        "command": "editless.showHiddenAgents",
        "title": "Show Hidden Agents",
        "category": "EditLess"
      },
      {
        "command": "editless.showAllAgents",
        "title": "Show All Agents",
        "category": "EditLess"
      },
      {
        "command": "editless.addNew",
        "title": "Add...",
        "category": "EditLess",
        "icon": "$(add)"
      },
      {
        "command": "editless.addAgent",
        "title": "Add Agent",
        "category": "EditLess",
        "icon": "$(add)"
      },
      {
        "command": "editless.addSquad",
        "title": "Add Squad",
        "category": "EditLess",
        "icon": "$(file-directory-create)"
      },
      {
        "command": "editless.refreshWorkItems",
        "title": "Refresh Work Items",
        "category": "EditLess",
        "icon": "$(refresh)"
      },
      {
        "command": "editless.filterWorkItems",
        "title": "Filter Work Items",
        "category": "EditLess",
        "icon": "$(filter)"
      },
      {
        "command": "editless.clearWorkItemsFilter",
        "title": "Clear Work Items Filter",
        "category": "EditLess",
        "icon": "$(clear-all)"
      },
      {
        "command": "editless.refreshPRs",
        "title": "Refresh PRs",
        "category": "EditLess",
        "icon": "$(refresh)"
      },
      {
        "command": "editless.configureRepos",
        "title": "Configure GitHub Repos",
        "category": "EditLess"
      },
      {
        "command": "editless.configureAdo",
        "title": "Configure Azure DevOps",
        "category": "EditLess"
      },
      {
        "command": "editless.setAdoPat",
        "title": "Set Azure DevOps PAT",
        "category": "EditLess"
      },
      {
        "command": "editless.adoSignIn",
        "title": "Sign in to Azure DevOps",
        "category": "EditLess"
      },
      {
        "command": "editless.openInBrowser",
        "title": "Open in Browser",
        "category": "EditLess",
        "icon": "$(link-external)"
      },
      {
        "command": "editless.launchFromWorkItem",
        "title": "Launch with Agent",
        "category": "EditLess",
        "icon": "$(play)"
      },
      {
        "command": "editless.openFilePreview",
        "title": "Preview File",
        "category": "EditLess"
      },
      {
        "command": "editless.goToPR",
        "title": "Go to PR",
        "category": "EditLess",
        "icon": "$(git-pull-request)"
      },
      {
        "command": "editless.relaunchSession",
        "title": "Re-launch Session",
        "category": "EditLess",
        "icon": "$(debug-restart)"
      },
      {
        "command": "editless.dismissOrphan",
        "title": "Dismiss Orphan",
        "category": "EditLess",
        "icon": "$(close)"
      },
      {
        "command": "editless.relaunchAllOrphans",
        "title": "Re-launch All Orphans",
        "category": "EditLess",
        "icon": "$(debug-restart)"
      }
    ],
    "keybindings": [
      {
        "command": "editless.focusSession",
        "key": "ctrl+shift+s",
        "mac": "cmd+shift+s"
      },
      {
        "command": "editless.renameSession",
        "key": "f2",
        "when": "focusedView == editlessTree && viewItem == terminal"
      },
      {
        "command": "editless.renameSquad",
        "key": "f2",
        "when": "focusedView == editlessTree && viewItem == squad"
      },
      {
        "command": "editless.renameSession",
        "key": "f2",
        "when": "terminalFocus"
      }
    ],
    "menus": {
      "view/title": [
        { "command": "editless.refresh", "when": "view == editlessTree", "group": "navigation@1" },
        { "command": "editless.showHiddenAgents", "when": "view == editlessTree", "group": "navigation@2" },
        { "command": "editless.addNew", "when": "view == editlessTree", "group": "navigation@3" },
        { "command": "editless.updateCliProvider", "when": "view == editlessTree && editless.cliUpdateAvailable", "group": "1_updates" },
        { "command": "editless.upgradeAllSquads", "when": "view == editlessTree", "group": "1_updates" },
        { "command": "editless.refreshWorkItems", "when": "view == editlessWorkItems", "group": "navigation@1" },
        { "command": "editless.filterWorkItems", "when": "view == editlessWorkItems", "group": "navigation@2" },
        { "command": "editless.clearWorkItemsFilter", "when": "view == editlessWorkItems && editless.workItemsFiltered", "group": "navigation@3" },
        { "command": "editless.refreshPRs", "when": "view == editlessPRs", "group": "navigation" }
      ],
      "view/item/context": [
        { "command": "editless.launchSession", "when": "view == editlessTree && viewItem =~ /^squad|^agent$/", "group": "inline@0" },
        { "command": "editless.launchSession", "when": "view == editlessTree && viewItem =~ /^squad|^agent|discovered-agent$/", "group": "session@0" },
        { "command": "editless.upgradeSquad", "when": "view == editlessTree && viewItem == squad-upgradeable", "group": "inline@1" },
        { "command": "editless.renameSquad", "when": "view == editlessTree && viewItem =~ /^squad/", "group": "squad@1" },
        { "command": "editless.changeModel", "when": "view == editlessTree && viewItem =~ /^squad/", "group": "squad@2" },
        { "command": "editless.goToSquadSettings", "when": "view == editlessTree && viewItem =~ /^squad/", "group": "squad@3" },
        { "command": "editless.openInSquadUi", "when": "view == editlessTree && viewItem =~ /^squad/ && editless.squadUiAvailable", "group": "squad@4" },
        { "command": "editless.hideAgent", "when": "view == editlessTree && viewItem =~ /^squad/", "group": "squad@5" },
        { "command": "editless.hideAgent", "when": "view == editlessTree && viewItem == discovered-agent", "group": "inline" },
        { "command": "editless.closeTerminal", "when": "viewItem == terminal" },
        { "command": "editless.closeTerminal", "when": "viewItem == terminal", "group": "inline@99" },
        { "command": "editless.renameSession", "when": "viewItem == terminal" },
        { "command": "editless.clearSessionLabel", "when": "viewItem == terminal" },
        { "command": "editless.openInBrowser", "when": "viewItem == work-item", "group": "inline" },
        { "command": "editless.goToPR", "when": "viewItem == work-item", "group": "work-item@2" },
        { "command": "editless.launchFromWorkItem", "when": "viewItem == work-item", "group": "work-item@1" },
        { "command": "editless.openInBrowser", "when": "viewItem == pull-request", "group": "inline" },
        { "command": "editless.relaunchSession", "when": "viewItem == orphanedSession", "group": "inline@1" },
        { "command": "editless.dismissOrphan", "when": "viewItem == orphanedSession", "group": "inline@2" }
      ],
      "commandPalette": [
        { "command": "editless.focusTerminal", "when": "false" },
        { "command": "editless.closeTerminal", "when": "false" },
        { "command": "editless.clearSessionLabel", "when": "false" },
        { "command": "editless.renameSquad", "when": "false" },
        { "command": "editless.changeModel", "when": "false" },
        { "command": "editless.goToSquadSettings", "when": "false" },
        { "command": "editless.openInSquadUi", "when": "false" },
        { "command": "editless.hideAgent", "when": "false" },
        { "command": "editless.refreshWorkItems", "when": "false" },
        { "command": "editless.filterWorkItems", "when": "false" },
        { "command": "editless.clearWorkItemsFilter", "when": "false" },
        { "command": "editless.refreshPRs", "when": "false" },
        { "command": "editless.openInBrowser", "when": "false" },
        { "command": "editless.launchFromWorkItem", "when": "false" },
        { "command": "editless.openFilePreview", "when": "false" },
        { "command": "editless.goToPR", "when": "false" },
        { "command": "editless.configureRepos", "when": "false" },
        { "command": "editless.configureAdo", "when": "false" },
        { "command": "editless.addNew", "when": "false" },
        { "command": "editless.relaunchSession", "when": "false" },
        { "command": "editless.dismissOrphan", "when": "false" }
      ]
    },
    "configuration": {
      "title": "EditLess",
      "properties": {
        "editless.registryPath": {
          "type": "string",
          "default": "./agent-registry.json",
          "description": "Path to the agent registry JSON file",
          "markdownDescription": "Path to the agent registry JSON file. The registry tracks which agent teams and standalone agents are available in this workspace and their configuration.\n\nAccepts absolute paths or paths relative to the workspace root.",
          "scope": "resource",
          "order": 1
        },
        "editless.discoveryDir": {
          "type": "string",
          "default": "",
          "description": "Directory to scan for squad projects",
          "markdownDescription": "Directory to scan for squad projects. EditLess watches this directory for folders containing `.squad/` (or `.ai-team/`) structures and adds them to the Agents pane automatically.\n\n_This setting will be replaced by `#editless.discovery.scanPaths#` in a future release._",
          "scope": "resource",
          "order": 2
        },
        "editless.discovery.scanPaths": {
          "type": "array",
          "default": [],
          "description": "Additional directories to scan for agents and squads on launch and config change",
          "items": {
            "type": "string"
          }
        },
        "editless.notifications.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable desktop notifications for squad events",
          "markdownDescription": "Master toggle for all EditLess notifications. When disabled, **all** EditLess toasts are suppressed — including inbox and update notifications.",
          "scope": "window",
          "order": 10
        },
        "editless.notifications.inbox": {
          "type": "boolean",
          "default": true,
          "description": "Enable notifications for inbox items (new decisions, pending work)",
          "markdownDescription": "Show notifications when new inbox items arrive (pending decisions, work items). A toast fires when the count transitions from 0 → N.\n\nRequires `#editless.notifications.enabled#` to be on.",
          "scope": "window",
          "order": 11
        },
        "editless.notifications.updates": {
          "type": "boolean",
          "default": true,
          "description": "Enable notifications for CLI update availability",
          "markdownDescription": "Show notifications when a CLI provider update is available. EditLess checks each detected provider on startup and displays a toast with the installed and available versions.\n\nRequires `#editless.notifications.enabled#` to be on.",
          "scope": "window",
          "order": 12
        },
        "editless.scanDebounceMs": {
          "type": "number",
          "default": 500,
          "description": "Debounce interval in milliseconds for file system scanning",
          "markdownDescription": "Debounce interval in milliseconds for file-system scanning. Controls how long EditLess waits after a file change before re-scanning for agents.\n\nDefault: `500`. Increase this value if you experience excessive refreshes in large workspaces.",
          "scope": "resource",
          "order": 3
        },
        "editless.cli.providers": {
          "type": "array",
          "default": [
            {
              "name": "Copilot CLI",
              "command": "copilot",
              "versionCommand": "copilot --version",
              "versionRegex": "(\\d+\\.\\d+[\\d.]*)",
              "launchCommand": "copilot --agent $(agent)",
              "createCommand": "",
              "updateCommand": "",
              "updateRunCommand": "",
              "upToDatePattern": "up to date"
            }
          ],
          "description": "CLI providers for agent sessions. Each provider defines how to launch, detect, and update a CLI tool.",
          "markdownDescription": "CLI providers for agent sessions. Each entry defines a CLI tool with version detection, launch command, and optional update support.\n\nThe first detected provider is used by default (override with `editless.cli.activeProvider`).\n\nCopilot CLI is included by default and will be re-added if removed.",
          "scope": "window",
          "order": 20
        },
        "editless.cli.activeProvider": {
          "type": "string",
          "default": "auto",
          "description": "Active CLI provider name, or 'auto' to use the first detected provider.",
          "markdownDescription": "Active CLI provider. Set to `\"auto\"` (default) to use the first detected provider, or specify a provider name from `editless.cli.providers`.",
          "scope": "window",
          "order": 21
        },
        "editless.github.repos": {
          "type": "array",
          "default": [],
          "description": "GitHub repositories to show work items and PRs from (e.g., ['owner/repo1', 'owner/repo2']). If empty, auto-detects from current workspace.",
          "markdownDescription": "GitHub repositories to show in the **Work Items** and **Pull Requests** panes. Use `\"owner/repo\"` format.\n\nIf empty, EditLess auto-detects repositories from the current workspace using `git remote`.\n\nExample: `[\"octocat/hello-world\", \"octocat/spoon-knife\"]`",
          "scope": "resource",
          "order": 30,
          "items": {
            "type": "string"
          }
        },
        "editless.github.issueFilter": {
          "type": "object",
          "default": {},
          "description": "Filter GitHub issues by labels",
          "markdownDescription": "Filter which GitHub issues appear in the **Work Items** pane by label.\n\n- `includeLabels` — only show issues with at least one of these labels (empty = show all)\n- `excludeLabels` — hide issues that have any of these labels\n\nExample:\n```json\n{\n  \"includeLabels\": [\"type:bug\", \"type:feature\"],\n  \"excludeLabels\": [\"status:review\"]\n}\n```",
          "scope": "resource",
          "order": 31,
          "properties": {
            "includeLabels": {
              "type": "array",
              "default": [],
              "description": "Only show issues with at least one of these labels (empty = show all)",
              "items": { "type": "string" }
            },
            "excludeLabels": {
              "type": "array",
              "default": [],
              "description": "Hide issues with any of these labels",
              "items": { "type": "string" }
            }
          }
        },
        "editless.ado.organization": {
          "type": "string",
          "default": "",
          "description": "Azure DevOps organization URL (e.g., https://dev.azure.com/myorg)",
          "markdownDescription": "Azure DevOps organization URL for the **Work Items** and **Pull Requests** panes.\n\nExample: `\"https://dev.azure.com/myorg\"`",
          "scope": "resource",
          "order": 32
        },
        "editless.ado.project": {
          "type": "string",
          "default": "",
          "description": "Azure DevOps project name",
          "markdownDescription": "Azure DevOps project to show in the **Work Items** and **Pull Requests** panes.",
          "scope": "resource",
          "order": 33
        },
        "editless.refreshInterval": {
          "type": "number",
          "default": 5,
          "minimum": 0,
          "description": "Auto-refresh interval in minutes for Work Items and PRs panels. Set to 0 to disable.",
          "markdownDescription": "Auto-refresh interval in minutes for the **Work Items** and **Pull Requests** panels.\n\nEditLess also refreshes when the VS Code window regains focus.\n\nSet to `0` to disable auto-refresh entirely (manual refresh only).\n\nDefault: `5` minutes.",
          "scope": "window",
          "order": 34
        },
        "editless.restoreTerminalLayout": {
          "type": "boolean",
          "default": true,
          "description": "Automatically maximize the terminal panel when all editor tabs are closed",
          "markdownDescription": "Automatically maximize the terminal panel when all editor tabs are closed. This restores the full-screen terminal workflow after peeking at a file.\n\nDisable this if you prefer to manage panel layout manually.",
          "scope": "window",
          "order": 4
        },
        "editless.agentCreationCommand": {
          "type": "string",
          "default": "",
          "description": "Custom command to run when adding an agent. Overrides built-in flow. Supports ${workspaceFolder} and ${agentName}.",
          "markdownDescription": "Custom command to run when adding an agent. Overrides the built-in agent creation flow.\n\nSupports variable substitution:\n- `${workspaceFolder}` — path to the current workspace\n- `${agentName}` — name entered by the user\n\nExample: `\"my-tool init --name ${agentName} --dir ${workspaceFolder}\"`",
          "scope": "resource",
          "order": 21
        }
      }
    }
  },
  "scripts": {
    "build": "node esbuild.mjs",
    "watch": "node esbuild.mjs --watch",
    "package": "vsce package",
    "lint": "tsc --noEmit",
    "test": "vitest run",
    "pretest:integration": "tsc -p tsconfig.integration.json",
    "test:integration": "vscode-test"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.0",
    "@types/node": "^22.0.0",
    "@types/vscode": "^1.100.0",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.3.0",
    "esbuild": "^0.25.0",
    "typescript": "^5.7.0",
    "vitest": "^4.0.18"
  }
}
